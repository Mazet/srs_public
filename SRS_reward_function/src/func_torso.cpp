#include <iostream>
#include <vector>
#include <algorithm>
#include <stdlib.h>
#include <time.h>
#include <math.h>
#include <stdio.h>
#include <limits.h>
#include <fstream>
#include <Eigen/Core>

using namespace std;
#define dim 1       // Dimension of function
#define pop  50		// max num of population
int torso_imax=500;
int torso_n= pop;  // Number of Scout Bees
int torso_m= 2;   // Number of selected Locations
int torso_n1 =6;  // Number of Bees around each selected locations ( except the ellit location )
int torso_n2 =20;  // Number of Bees around each ellit locations
int torso_e =1;   // Elite point/s

int torso_func( int i,std::vector<std::vector<float> > Vtorso)  // Definition of Fitness Function
{
	int y;
	y=Vtorso[0][i];
	  return y;
}

//------------------------------random function used in the Bees algorithm-----------------------

int	torso_xs = 0;
int	torso_xe = 15;
int torso_randfunc( int torso_xs, int torso_xe )  // Definition of Random number Generator Function*/
{
  double randnum;
  randnum=rand() ;
  randnum=torso_xs+randnum*(torso_xe-torso_xs) / RAND_MAX;
  int intrandnum = randnum +0.5;	//kind of rounding in order to have only 0 or 1 random number
  return intrandnum;
}

//------------------------------sorting function used in the Bees algorithm-----------------------

void torso_funcSort(int inP1[],int oP1[],int inP2[][pop],int oP2[][pop],int size)
{
		double temp1=-INT_MAX;
		int temp2;

			for( int j=0;j<size;j++)	//sort
			{
				for(int k=0;k<size;k++)
					if(inP1[k]> temp1 )
					{
						temp1=inP1[k];
						temp2=k;
					}

				oP1[j]=temp1;
				for(int d=0;d<dim;d++)
				  oP2[d][j]=inP2[d][temp2];
				temp1=-INT_MAX;
				inP1[temp2]=-INT_MAX;
			}	//end sort
}

//------------------------------ reward function -----------------------

void reward_torso (std::string action_name, std::string action_stage, std::string result_action, std::vector<std::vector<float> >& Vtorso,double& result_torso ,int& result_torsostate,Eigen::Matrix4f& T)
{
float gamma=0.1;  // define the discount factor "gamma"
	int home=0, left=1, right=2, front=3,front_left=4, front_right=5,back=6,back_extreme=7,back_left=8,back_left_extreme=9, back_right=10,back_right_extreme=11,nod=12,lookontray=13,bow=14,shake=15;
	int nav_pre_home=0,nav_pre_left=1,nav_pre_right=2,nav_pre_front=3,nav_pre_front_left=4,nav_pre_front_right=5,nav_pre_back=6,nav_pre_back_extreme=7,nav_pre_back_left=8,nav_pre_back_left_extreme=9,nav_pre_back_right=10,nav_pre_back_right_extreme=11,nav_pre_nod=12,nav_pre_lookontray=13,nav_pre_bow=14,nav_pre_shake=15;
	int detect_pre_home=16,detect_pre_left=17,detect_pre_right=18,detect_pre_front=19,detect_pre_front_left=20,detect_pre_front_right=21,detect_pre_back=22,detect_pre_back_extreme=23,detect_pre_back_left=24,detect_pre_back_left_extreme=25,detect_pre_back_right=26,detect_pre_back_right_extreme=27,detect_pre_nod=28,detect_pre_lookontray=29,detect_pre_bow=30,detect_pre_shake=31;
	int grasp_pre_home=32,grasp_pre_left=33,grasp_pre_right=34,grasp_pre_front=35,grasp_pre_front_left=36,grasp_pre_front_right=37,grasp_pre_back=38,grasp_pre_back_extreme=39,grasp_pre_back_left=40,grasp_pre_back_left_extreme=41,grasp_pre_back_right=42,grasp_pre_back_right_extreme=43,grasp_pre_nod=44,grasp_pre_lookontray=45,grasp_pre_bow=46,grasp_pre_shake=47;
	int put_pre_home=48,put_pre_left=49,put_pre_right=50,put_pre_front=51,put_pre_front_left=52,put_pre_front_right=53,put_pre_back=54,put_pre_back_extreme=55,put_pre_back_left=56,put_pre_back_left_extreme=57,put_pre_back_right=58,put_pre_back_right_extreme=59,put_pre_nod=60,put_pre_lookontray=61,put_pre_bow=62,put_pre_shake=63;
	int nav_post_home=64,nav_post_left=65,nav_post_right=66,nav_post_front=67,nav_post_front_left=68,nav_post_front_right=69,nav_post_back=70,nav_post_back_extreme=71,nav_post_back_left=72,nav_post_back_left_extreme=73,nav_post_back_right=74,nav_post_back_right_extreme=75,nav_post_nod=76,nav_post_lookontray=77,nav_post_bow=78,nav_post_shake=79;
	int detect_post_home=80,detect_post_left=81,detect_post_right=82,detect_post_front=83,detect_post_front_left=84,detect_post_front_right=85,detect_post_back=86,detect_post_back_extreme=87,detect_post_back_left=88,detect_post_back_left_extreme=89,detect_post_back_right=90,detect_post_back_right_extreme=91,detect_post_nod=92,detect_post_lookontray=93,detect_post_bow=94,detect_post_shake=95;
	int grasp_post_home=96,grasp_post_left=97,grasp_post_right=98,grasp_post_front=99,grasp_post_front_left=100,grasp_post_front_right=101,grasp_post_back=102,grasp_post_back_extreme=103,grasp_post_back_left=104,grasp_post_back_left_extreme=105,grasp_post_back_right=106,grasp_post_back_right_extreme=107,grasp_post_nod=108,grasp_post_lookontray=109,grasp_post_bow=110,grasp_post_shake=111;
	int put_post_home=112,put_post_left=113,put_post_right=114,put_post_front=115,put_post_front_left=116,put_post_front_right=117,put_post_back=118,put_post_back_extreme=119,put_post_back_left=120,put_post_back_left_extreme=121,put_post_back_right=122,put_post_back_right_extreme=123,put_post_nod=124,put_post_lookontray=125,put_post_bow=126,put_post_shake=127;

	std::vector<float> R;   //create a vector R with an unknown size
		R.resize(128);  // define the size of the vector
	Vtorso.resize(2);
	for (int i=1;i>=0;i--)
	{
	Vtorso[i].resize(16);
	}

/*	//----- initialisation in order to compute the value function -----
				Vtorso[5][0]=R[home];
				Vtorso[5][1]=R[left];
				Vtorso[5][2]=R[right];
				Vtorso[5][3]=R[front];
				Vtorso[5][4]=R[front_left];
				Vtorso[5][5]=R[front_right];
				Vtorso[5][6]=R[back];
				Vtorso[5][7]=R[back_extreme];
				Vtorso[5][8]=R[back_left];
				Vtorso[5][9]=R[back_left_extreme];
				Vtorso[5][10]=R[back_right];
				Vtorso[5][11]=R[back_right_extreme];
				Vtorso[5][12]=R[nod];
				Vtorso[5][13]=R[lookontray];
				Vtorso[5][14]=R[bow];
				Vtorso[5][15]=R[shake];*/
	//for (int t=4;t>=0;t--)
		//{

	//----- definition of the reward -----
				R[nav_pre_home]=20;					R[detect_pre_home]=10;					R[grasp_pre_home]=20;				R[put_pre_home]=20;
				R[nav_pre_left]=8;					R[detect_pre_left]=2;					R[grasp_pre_left]=3;				R[put_pre_left]=2;
				R[nav_pre_right]=3;					R[detect_pre_right]=5;					R[grasp_pre_right]=4;				R[put_pre_right]=4;
				R[nav_pre_front]=4;					R[detect_pre_front]=7;					R[grasp_pre_front]=7;				R[put_pre_front]=6;
				R[nav_pre_front_left]=6;			R[detect_pre_front_left]=9;				R[grasp_pre_front_left]=5;			R[put_pre_front_left]=8;
				R[nav_pre_front_right]=2;			R[detect_pre_front_right]=4;			R[grasp_pre_front_right]=6;			R[put_pre_front_right]=10;
				R[nav_pre_back]=9;					R[detect_pre_back]=6;					R[grasp_pre_back]=4;				R[put_pre_back]=8;
				R[nav_pre_back_extreme]=5;			R[detect_pre_back_extreme]=12;			R[grasp_pre_back_extreme]=3;		R[put_pre_back_extreme]=6;
				R[nav_pre_back_left]=7;				R[detect_pre_back_left]=1;				R[grasp_pre_back_left]=1;			R[put_pre_back_left]=4;
				R[nav_pre_back_left_extreme]=1;		R[detect_pre_back_left_extreme]=2;		R[grasp_pre_back_left_extreme]=2;	R[put_pre_back_left_extreme]=2;
				R[nav_pre_back_right]=6;			R[detect_pre_back_right]=3;				R[grasp_pre_back_right]=6;			R[put_pre_back_right]=1;
				R[nav_pre_back_right_extreme]=7;	R[detect_pre_back_right_extreme]=4;		R[grasp_pre_back_right_extreme]=5;	R[put_pre_back_right_extreme]=5;
				R[nav_pre_nod]=5;					R[detect_pre_nod]=8;					R[grasp_pre_nod]=4;					R[put_pre_nod]=4;
				R[nav_pre_lookontray]=6;			R[detect_pre_lookontray]=7;				R[grasp_pre_lookontray]=3;			R[put_pre_lookontray]=3;
				R[nav_pre_bow]=3;					R[detect_pre_bow]=1;					R[grasp_pre_bow]=2;					R[put_pre_bow]=2;
				R[nav_pre_shake]=10;				R[detect_pre_shake]=20;					R[grasp_pre_shake]=10;				R[put_pre_shake]=10;

				R[nav_post_home]=20;				R[detect_post_home]=20;					R[grasp_post_home]=20;				R[put_post_home]=20;
				R[nav_post_left]=2;					R[detect_post_left]=2;					R[grasp_post_left]=4;				R[put_post_left]=1;
				R[nav_post_right]=1;				R[detect_post_right]=3;					R[grasp_post_right]=2;				R[put_post_right]=8;
				R[nav_post_front]=3;				R[detect_post_front]=4;					R[grasp_post_front]=1;				R[put_post_front]=6;
				R[nav_post_front_left]=5;			R[detect_post_front_left]=5;			R[grasp_post_front_left]=3;			R[put_post_front_left]=4;
				R[nav_post_front_right]=8;			R[detect_post_front_right]=6;			R[grasp_post_front_right]=7;		R[put_post_front_right]=2;
				R[nav_post_back]=3;					R[detect_post_back]=7;					R[grasp_post_back]=6;				R[put_post_back]=1;
				R[nav_post_back_extreme]=4;			R[detect_post_back_extreme]=7;			R[grasp_post_back_extreme]=3;		R[put_post_back_extreme]=3;
				R[nav_post_back_left]=5;			R[detect_post_back_left]=6;				R[grasp_post_back_left]=4;			R[put_post_back_left]=6;
				R[nav_post_back_left_extreme]=2;	R[detect_post_back_left_extreme]=1;		R[grasp_post_back_left_extreme]=2;	R[put_post_back_left_extreme]=9;
				R[nav_post_back_right]=8;			R[detect_post_back_right]=1;			R[grasp_post_back_right]=3;			R[put_post_back_right]=1;
				R[nav_post_back_right_extreme]=4;	R[detect_post_back_right_extreme]=2;	R[grasp_post_back_right_extreme]=1;	R[put_post_back_right_extreme]=6;
				R[nav_post_nod]=10;					R[detect_post_nod]=3;					R[grasp_post_nod]=8;				R[put_post_nod]=8;
				R[nav_post_lookontray]=6;			R[detect_post_lookontray]=4;			R[grasp_post_lookontray]=2;			R[put_post_lookontray]=4;
				R[nav_post_bow]=2;					R[detect_post_bow]=5;					R[grasp_post_bow]=1;				R[put_post_bow]=2;
				R[nav_post_shake]=10;				R[detect_post_shake]=10;				R[grasp_post_shake]=10;				R[put_post_shake]=10;

			if (action_name=="navigation")
			{
				if (action_stage=="pre-config")
				{
					/*Vtorso[0][home]=R[nav_pre_home] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][left]=R[nav_pre_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][right]=R[nav_pre_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front]=R[nav_pre_front] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_left]=R[nav_pre_front_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_right]=R[nav_pre_front_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back]=R[nav_pre_back] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_extreme]=R[nav_pre_back_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left]=R[nav_pre_back_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left_extreme]=R[nav_pre_back_left_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right]=R[nav_pre_back_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right_extreme]=R[nav_pre_back_right_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][nod]=R[nav_pre_nod] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][lookontray]=R[nav_pre_lookontray] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][bow]=R[nav_pre_bow] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][shake]=R[nav_pre_shake] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
*/
					Vtorso[0][home]=R[nav_pre_home] + gamma*(T(0,0)*R[nav_pre_home]+T(0,1)*R[detect_pre_home]+T(0,2)*R[grasp_pre_home]+T(0,3)*R[put_pre_home]);
					Vtorso[0][left]=R[nav_pre_left] + gamma*(T(0,0)*R[nav_pre_left]+T(0,1)*R[detect_pre_left]+T(0,2)*R[grasp_pre_left]+T(0,3)*R[put_pre_left]);
					Vtorso[0][right]=R[nav_pre_right] + gamma*(T(0,0)*R[nav_pre_right]+T(0,1)*R[detect_pre_right]+T(0,2)*R[grasp_pre_right]+T(0,3)*R[put_pre_right]);
					Vtorso[0][front]=R[nav_pre_front] + gamma*(T(0,0)*R[nav_pre_front]+T(0,1)*R[detect_pre_front]+T(0,2)*R[grasp_pre_front]+T(0,3)*R[put_pre_front]);
					Vtorso[0][front_left]=R[nav_pre_front_left] + gamma*(T(0,0)*R[nav_pre_front_left]+T(0,1)*R[detect_pre_front_left]+T(0,2)*R[grasp_pre_front_left]+T(0,3)*R[put_pre_front_left]);
					Vtorso[0][front_right]=R[nav_pre_front_right] + gamma*(T(0,0)*R[nav_pre_front_right]+T(0,1)*R[detect_pre_front_right]+T(0,2)*R[grasp_pre_front_right]+T(0,3)*R[put_pre_front_right]);
					Vtorso[0][back]=R[nav_pre_back] + gamma*(T(0,0)*R[nav_pre_back]+T(0,1)*R[detect_pre_back]+T(0,2)*R[grasp_pre_back]+T(0,3)*R[put_pre_back]);
					Vtorso[0][back_extreme]=R[nav_pre_back_extreme] + gamma*(T(0,0)*R[nav_pre_back_extreme]+T(0,1)*R[detect_pre_back_extreme]+T(0,2)*R[grasp_pre_back_extreme]+T(0,3)*R[put_pre_back_extreme]);
					Vtorso[0][back_left]=R[nav_pre_back_left] + gamma*(T(0,0)*R[nav_pre_back_left]+T(0,1)*R[detect_pre_back_left]+T(0,2)*R[grasp_pre_back_left]+T(0,3)*R[put_pre_back_left]);
					Vtorso[0][back_left_extreme]=R[nav_pre_back_left_extreme] + gamma*(T(0,0)*R[nav_pre_back_left_extreme]+T(0,1)*R[detect_pre_back_left_extreme]+T(0,2)*R[grasp_pre_back_left_extreme]+T(0,3)*R[put_pre_back_left_extreme]);
					Vtorso[0][back_right]=R[nav_pre_back_right] + gamma*(T(0,0)*R[nav_pre_back_right]+T(0,1)*R[detect_pre_back_right]+T(0,2)*R[grasp_pre_back_right]+T(0,3)*R[put_pre_back_right]);
					Vtorso[0][back_right_extreme]=R[nav_pre_back_right_extreme] + gamma*(T(0,0)*R[nav_pre_back_right_extreme]+T(0,1)*R[detect_pre_back_right_extreme]+T(0,2)*R[grasp_pre_back_right_extreme]+T(0,3)*R[put_pre_back_right_extreme]);
					Vtorso[0][nod]=R[nav_pre_nod] + gamma*(T(0,0)*R[nav_pre_nod]+T(0,1)*R[detect_pre_nod]+T(0,2)*R[grasp_pre_nod]+T(0,3)*R[put_pre_nod]);
					Vtorso[0][lookontray]=R[nav_pre_lookontray] + gamma*(T(0,0)*R[nav_pre_lookontray]+T(0,1)*R[detect_pre_lookontray]+T(0,2)*R[grasp_pre_lookontray]+T(0,3)*R[put_pre_lookontray]);
					Vtorso[0][bow]=R[nav_pre_bow] + gamma*(T(0,0)*R[nav_pre_bow]+T(0,1)*R[detect_pre_bow]+T(0,2)*R[grasp_pre_bow]+T(0,3)*R[put_pre_bow]);
					Vtorso[0][shake]=R[nav_pre_shake] + gamma*(T(0,0)*R[nav_pre_shake]+T(0,1)*R[detect_pre_shake]+T(0,2)*R[grasp_pre_shake]+T(0,3)*R[put_pre_shake]);
				}
				if (action_stage=="post-config")
				{
					/*Vtorso[0][home]=R[nav_post_home] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][left]=R[nav_post_left] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][right]=R[nav_post_right] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front]=R[nav_post_front] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_left]=R[nav_post_front_left] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_right]=R[nav_post_front_right] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back]=R[nav_post_back] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_extreme]=R[nav_post_back_extreme] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left]=R[nav_post_back_left] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left_extreme]=R[nav_post_back_left_extreme] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right]=R[nav_post_back_right] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right_extreme]=R[nav_post_back_right_extreme] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][nod]=R[nav_post_nod] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][lookontray]=R[nav_post_lookontray] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][bow]=R[nav_post_bow] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][shake]=R[nav_post_shake] + gamma*(T(0,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(0,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(0,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(0,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
*/
					Vtorso[0][home]=R[nav_post_home] + gamma*(T(0,0)*R[nav_post_home]+T(0,1)*R[detect_post_home]+T(0,2)*R[grasp_post_home]+T(0,3)*R[put_post_home]);
					Vtorso[0][left]=R[nav_post_left] + gamma*(T(0,0)*R[nav_post_left]+T(0,1)*R[detect_post_left]+T(0,2)*R[grasp_post_left]+T(0,3)*R[put_post_left]);
					Vtorso[0][right]=R[nav_post_right] + gamma*(T(0,0)*R[nav_post_right]+T(0,1)*R[detect_post_right]+T(0,2)*R[grasp_post_right]+T(0,3)*R[put_post_right]);
					Vtorso[0][front]=R[nav_post_front] + gamma*(T(0,0)*R[nav_post_front]+T(0,1)*R[detect_post_front]+T(0,2)*R[grasp_post_front]+T(0,3)*R[put_post_front]);
					Vtorso[0][front_left]=R[nav_post_front_left] + gamma*(T(0,0)*R[nav_post_front_left]+T(0,1)*R[detect_post_front_left]+T(0,2)*R[grasp_post_front_left]+T(0,3)*R[put_post_front_left]);
					Vtorso[0][front_right]=R[nav_post_front_right] + gamma*(T(0,0)*R[nav_post_front_right]+T(0,1)*R[detect_post_front_right]+T(0,2)*R[grasp_post_front_right]+T(0,3)*R[put_post_front_right]);
					Vtorso[0][back]=R[nav_post_back] + gamma*(T(0,0)*R[nav_post_back]+T(0,1)*R[detect_post_back]+T(0,2)*R[grasp_post_back]+T(0,3)*R[put_post_back]);
					Vtorso[0][back_extreme]=R[nav_post_back_extreme] + gamma*(T(0,0)*R[nav_post_back_extreme]+T(0,1)*R[detect_post_back_extreme]+T(0,2)*R[grasp_post_back_extreme]+T(0,3)*R[put_post_back_extreme]);
					Vtorso[0][back_left]=R[nav_post_back_left] + gamma*(T(0,0)*R[nav_post_back_left]+T(0,1)*R[detect_post_back_left]+T(0,2)*R[grasp_post_back_left]+T(0,3)*R[put_post_back_left]);
					Vtorso[0][back_left_extreme]=R[nav_post_back_left_extreme] + gamma*(T(0,0)*R[nav_post_back_left_extreme]+T(0,1)*R[detect_post_back_left_extreme]+T(0,2)*R[grasp_post_back_left_extreme]+T(0,3)*R[put_post_back_left_extreme]);
					Vtorso[0][back_right]=R[nav_post_back_right] + gamma*(T(0,0)*R[nav_post_back_right]+T(0,1)*R[detect_post_back_right]+T(0,2)*R[grasp_post_back_right]+T(0,3)*R[put_post_back_right]);
					Vtorso[0][back_right_extreme]=R[nav_post_back_right_extreme] + gamma*(T(0,0)*R[nav_post_back_right_extreme]+T(0,1)*R[detect_post_back_right_extreme]+T(0,2)*R[grasp_post_back_right_extreme]+T(0,3)*R[put_post_back_right_extreme]);
					Vtorso[0][nod]=R[nav_post_nod] + gamma*(T(0,0)*R[nav_post_nod]+T(0,1)*R[detect_post_nod]+T(0,2)*R[grasp_post_nod]+T(0,3)*R[put_post_nod]);
					Vtorso[0][lookontray]=R[nav_post_lookontray] + gamma*(T(0,0)*R[nav_post_lookontray]+T(0,1)*R[detect_post_lookontray]+T(0,2)*R[grasp_post_lookontray]+T(0,3)*R[put_post_lookontray]);
					Vtorso[0][bow]=R[nav_post_bow] + gamma*(T(0,0)*R[nav_post_bow]+T(0,1)*R[detect_post_bow]+T(0,2)*R[grasp_post_bow]+T(0,3)*R[put_post_bow]);
					Vtorso[0][shake]=R[nav_post_shake] + gamma*(T(0,0)*R[nav_post_shake]+T(0,1)*R[detect_post_shake]+T(0,2)*R[grasp_post_shake]+T(0,3)*R[put_post_shake]);
				}
			}
			if (action_name=="detection")
			{
				if (action_stage=="pre-config")
				{
					/*Vtorso[0][home]=R[detect_pre_home] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][left]=R[detect_pre_left] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][right]=R[detect_pre_right] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front]=R[detect_pre_front] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_left]=R[detect_pre_front_left] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_right]=R[detect_pre_front_right] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back]=R[detect_pre_back] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_extreme]=R[detect_pre_back_extreme] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left]=R[detect_pre_back_left] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left_extreme]=R[detect_pre_back_left_extreme] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right]=R[detect_pre_back_right] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right_extreme]=R[detect_pre_back_right_extreme] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][nod]=R[nav_pre_nod] + gamma*(T(1,0)*(R[detect_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][lookontray]=R[detect_pre_lookontray] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][bow]=R[detect_pre_bow] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][shake]=R[detect_pre_shake] + gamma*(T(1,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(1,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(1,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(1,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
*/
					Vtorso[0][home]=R[detect_pre_home] + gamma*(T(1,0)*R[nav_pre_home]+T(1,1)*R[detect_pre_home]+T(1,2)*R[grasp_pre_home]+T(1,3)*R[put_pre_home]);
					Vtorso[0][left]=R[detect_pre_left] + gamma*(T(1,0)*R[nav_pre_left]+T(1,1)*R[detect_pre_left]+T(1,2)*R[grasp_pre_left]+T(1,3)*R[put_pre_left]);
					Vtorso[0][right]=R[detect_pre_right] + gamma*(T(1,0)*R[nav_pre_right]+T(1,1)*R[detect_pre_right]+T(1,2)*R[grasp_pre_right]+T(1,3)*R[put_pre_right]);
					Vtorso[0][front]=R[detect_pre_front] + gamma*(T(1,0)*R[nav_pre_front]+T(1,1)*R[detect_pre_front]+T(1,2)*R[grasp_pre_front]+T(1,3)*R[put_pre_front]);
					Vtorso[0][front_left]=R[detect_pre_front_left] + gamma*(T(1,0)*R[nav_pre_front_left]+T(1,1)*R[detect_pre_front_left]+T(1,2)*R[grasp_pre_front_left]+T(1,3)*R[put_pre_front_left]);
					Vtorso[0][front_right]=R[detect_pre_front_right] + gamma*(T(1,0)*R[nav_pre_front_right]+T(1,1)*R[detect_pre_front_right]+T(1,2)*R[grasp_pre_front_right]+T(1,3)*R[put_pre_front_right]);
					Vtorso[0][back]=R[detect_pre_back] + gamma*(T(1,0)*R[nav_pre_back]+T(1,1)*R[detect_pre_back]+T(1,2)*R[grasp_pre_back]+T(1,3)*R[put_pre_back]);
					Vtorso[0][back_extreme]=R[detect_pre_back_extreme] + gamma*(T(1,0)*R[nav_pre_back_extreme]+T(1,1)*R[detect_pre_back_extreme]+T(1,2)*R[grasp_pre_back_extreme]+T(1,3)*R[put_pre_back_extreme]);
					Vtorso[0][back_left]=R[detect_pre_back_left] + gamma*(T(1,0)*R[nav_pre_back_left]+T(1,1)*R[detect_pre_back_left]+T(1,2)*R[grasp_pre_back_left]+T(1,3)*R[put_pre_back_left]);
					Vtorso[0][back_left_extreme]=R[detect_pre_back_left_extreme] + gamma*(T(1,0)*R[nav_pre_back_left_extreme]+T(1,1)*R[detect_pre_back_left_extreme]+T(1,2)*R[grasp_pre_back_left_extreme]+T(1,3)*R[put_pre_back_left_extreme]);
					Vtorso[0][back_right]=R[detect_pre_back_right] + gamma*(T(1,0)*R[nav_pre_back_right]+T(1,1)*R[detect_pre_back_right]+T(1,2)*R[grasp_pre_back_right]+T(1,3)*R[put_pre_back_right]);
					Vtorso[0][back_right_extreme]=R[detect_pre_back_right_extreme] + gamma*(T(1,0)*R[nav_pre_back_right_extreme]+T(1,1)*R[detect_pre_back_right_extreme]+T(1,2)*R[grasp_pre_back_right_extreme]+T(1,3)*R[put_pre_back_right_extreme]);
					Vtorso[0][nod]=R[detect_pre_nod] + gamma*(T(1,0)*R[nav_pre_nod]+T(1,1)*R[detect_pre_nod]+T(1,2)*R[grasp_pre_nod]+T(1,3)*R[put_pre_nod]);
					Vtorso[0][lookontray]=R[detect_pre_lookontray] + gamma*(T(1,0)*R[nav_pre_lookontray]+T(1,1)*R[detect_pre_lookontray]+T(1,2)*R[grasp_pre_lookontray]+T(1,3)*R[put_pre_lookontray]);
					Vtorso[0][bow]=R[detect_pre_bow] + gamma*(T(1,0)*R[nav_pre_bow]+T(1,1)*R[detect_pre_bow]+T(1,2)*R[grasp_pre_bow]+T(1,3)*R[put_pre_bow]);
					Vtorso[0][shake]=R[detect_pre_shake] + gamma*(T(1,0)*R[nav_pre_shake]+T(1,1)*R[detect_pre_shake]+T(1,2)*R[grasp_pre_shake]+T(1,3)*R[put_pre_shake]);
				}
				if (action_stage=="post-config")
				{
					/*Vtorso[0][home]=R[detect_post_home] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][left]=R[detect_post_left] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][right]=R[detect_post_right] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front]=R[detect_post_front] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_left]=R[detect_post_front_left] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_right]=R[detect_post_front_right] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back]=R[detect_post_back] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_extreme]=R[detect_post_back_extreme] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left]=R[detect_post_back_left] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left_extreme]=R[detect_post_back_left_extreme] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right]=R[detect_post_back_right] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right_extreme]=R[detect_post_back_right_extreme] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][nod]=R[detect_post_nod] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][lookontray]=R[detect_post_lookontray] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][bow]=R[detect_post_bow] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][shake]=R[detect_post_shake] + gamma*(T(1,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(1,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(1,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(1,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
*/
					Vtorso[0][home]=R[detect_post_home] + gamma*(T(1,0)*R[nav_post_home]+T(1,1)*R[detect_post_home]+T(1,2)*R[grasp_post_home]+T(1,3)*R[put_post_home]);
					Vtorso[0][left]=R[detect_post_left] + gamma*(T(1,0)*R[nav_post_left]+T(1,1)*R[detect_post_left]+T(1,2)*R[grasp_post_left]+T(1,3)*R[put_post_left]);
					Vtorso[0][right]=R[detect_post_right] + gamma*(T(1,0)*R[nav_post_right]+T(1,1)*R[detect_post_right]+T(1,2)*R[grasp_post_right]+T(1,3)*R[put_post_right]);
					Vtorso[0][front]=R[detect_post_front] + gamma*(T(1,0)*R[nav_post_front]+T(1,1)*R[detect_post_front]+T(1,2)*R[grasp_post_front]+T(1,3)*R[put_post_front]);
					Vtorso[0][front_left]=R[detect_post_front_left] + gamma*(T(1,0)*R[nav_post_front_left]+T(1,1)*R[detect_post_front_left]+T(1,2)*R[grasp_post_front_left]+T(1,3)*R[put_post_front_left]);
					Vtorso[0][front_right]=R[detect_post_front_right] + gamma*(T(1,0)*R[nav_post_front_right]+T(1,1)*R[detect_post_front_right]+T(1,2)*R[grasp_post_front_right]+T(1,3)*R[put_post_front_right]);
					Vtorso[0][back]=R[detect_post_back] + gamma*(T(1,0)*R[nav_post_back]+T(1,1)*R[detect_post_back]+T(1,2)*R[grasp_post_back]+T(1,3)*R[put_post_back]);
					Vtorso[0][back_extreme]=R[detect_post_back_extreme] + gamma*(T(1,0)*R[nav_post_back_extreme]+T(1,1)*R[detect_post_back_extreme]+T(1,2)*R[grasp_post_back_extreme]+T(1,3)*R[put_post_back_extreme]);
					Vtorso[0][back_left]=R[detect_post_back_left] + gamma*(T(1,0)*R[nav_post_back_left]+T(1,1)*R[detect_post_back_left]+T(1,2)*R[grasp_post_back_left]+T(1,3)*R[put_post_back_left]);
					Vtorso[0][back_left_extreme]=R[detect_post_back_left_extreme] + gamma*(T(1,0)*R[nav_post_back_left_extreme]+T(1,1)*R[detect_post_back_left_extreme]+T(1,2)*R[grasp_post_back_left_extreme]+T(1,3)*R[put_post_back_left_extreme]);
					Vtorso[0][back_right]=R[detect_post_back_right] + gamma*(T(1,0)*R[nav_post_back_right]+T(1,1)*R[detect_post_back_right]+T(1,2)*R[grasp_post_back_right]+T(1,3)*R[put_post_back_right]);
					Vtorso[0][back_right_extreme]=R[detect_post_back_right_extreme] + gamma*(T(1,0)*R[nav_post_back_right_extreme]+T(1,1)*R[detect_post_back_right_extreme]+T(1,2)*R[grasp_post_back_right_extreme]+T(1,3)*R[put_post_back_right_extreme]);
					Vtorso[0][nod]=R[detect_post_nod] + gamma*(T(1,0)*R[nav_post_nod]+T(1,1)*R[detect_post_nod]+T(1,2)*R[grasp_post_nod]+T(1,3)*R[put_post_nod]);
					Vtorso[0][lookontray]=R[detect_post_lookontray] + gamma*(T(1,0)*R[nav_post_lookontray]+T(1,1)*R[detect_post_lookontray]+T(1,2)*R[grasp_post_lookontray]+T(1,3)*R[put_post_lookontray]);
					Vtorso[0][bow]=R[detect_post_bow] + gamma*(T(1,0)*R[nav_post_bow]+T(1,1)*R[detect_post_bow]+T(1,2)*R[grasp_post_bow]+T(1,3)*R[put_post_bow]);
					Vtorso[0][shake]=R[detect_post_shake] + gamma*(T(1,0)*R[nav_post_shake]+T(1,1)*R[detect_post_shake]+T(1,2)*R[grasp_post_shake]+T(1,3)*R[put_post_shake]);
				}
			}
			if (action_name=="grasp")
			{
				if (action_stage=="pre-config")
				{
					/*Vtorso[0][home]=R[grasp_pre_home] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][left]=R[grasp_pre_left] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][right]=R[grasp_pre_right] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front]=R[grasp_pre_front] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_left]=R[grasp_pre_front_left] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_right]=R[grasp_pre_front_right] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back]=R[grasp_pre_back] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_extreme]=R[grasp_pre_back_extreme] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left]=R[grasp_pre_back_left] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left_extreme]=R[grasp_pre_back_left_extreme] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right]=R[grasp_pre_back_right] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right_extreme]=R[grasp_pre_back_right_extreme] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][nod]=R[grasp_pre_nod] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][lookontray]=R[grasp_pre_lookontray] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][bow]=R[grasp_pre_bow] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][shake]=R[grasp_pre_shake] + gamma*(T(2,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(2,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(2,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(2,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
*/
					Vtorso[0][home]=R[grasp_pre_home] + gamma*(T(2,0)*R[nav_pre_home]+T(2,1)*R[detect_pre_home]+T(2,2)*R[grasp_pre_home]+T(2,3)*R[put_pre_home]);
					Vtorso[0][left]=R[grasp_pre_left] + gamma*(T(2,0)*R[nav_pre_left]+T(2,1)*R[detect_pre_left]+T(2,2)*R[grasp_pre_left]+T(2,3)*R[put_pre_left]);
					Vtorso[0][right]=R[grasp_pre_right] + gamma*(T(2,0)*R[nav_pre_right]+T(2,1)*R[detect_pre_right]+T(2,2)*R[grasp_pre_right]+T(2,3)*R[put_pre_right]);
					Vtorso[0][front]=R[grasp_pre_front] + gamma*(T(2,0)*R[nav_pre_front]+T(2,1)*R[detect_pre_front]+T(2,2)*R[grasp_pre_front]+T(2,3)*R[put_pre_front]);
					Vtorso[0][front_left]=R[grasp_pre_front_left] + gamma*(T(2,0)*R[nav_pre_front_left]+T(2,1)*R[detect_pre_front_left]+T(2,2)*R[grasp_pre_front_left]+T(2,3)*R[put_pre_front_left]);
					Vtorso[0][front_right]=R[grasp_pre_front_right] + gamma*(T(2,0)*R[nav_pre_front_right]+T(2,1)*R[detect_pre_front_right]+T(2,2)*R[grasp_pre_front_right]+T(2,3)*R[put_pre_front_right]);
					Vtorso[0][back]=R[grasp_pre_back] + gamma*(T(2,0)*R[nav_pre_back]+T(2,1)*R[detect_pre_back]+T(2,2)*R[grasp_pre_back]+T(2,3)*R[put_pre_back]);
					Vtorso[0][back_extreme]=R[grasp_pre_back_extreme] + gamma*(T(2,0)*R[nav_pre_back_extreme]+T(2,1)*R[detect_pre_back_extreme]+T(2,2)*R[grasp_pre_back_extreme]+T(2,3)*R[put_pre_back_extreme]);
					Vtorso[0][back_left]=R[grasp_pre_back_left] + gamma*(T(2,0)*R[nav_pre_back_left]+T(2,1)*R[detect_pre_back_left]+T(2,2)*R[grasp_pre_back_left]+T(2,3)*R[put_pre_back_left]);
					Vtorso[0][back_left_extreme]=R[grasp_pre_back_left_extreme] + gamma*(T(2,0)*R[nav_pre_back_left_extreme]+T(2,1)*R[detect_pre_back_left_extreme]+T(2,2)*R[grasp_pre_back_left_extreme]+T(2,3)*R[put_pre_back_left_extreme]);
					Vtorso[0][back_right]=R[grasp_pre_back_right] + gamma*(T(2,0)*R[nav_pre_back_right]+T(2,1)*R[detect_pre_back_right]+T(2,2)*R[grasp_pre_back_right]+T(2,3)*R[put_pre_back_right]);
					Vtorso[0][back_right_extreme]=R[grasp_pre_back_right_extreme] + gamma*(T(2,0)*R[nav_pre_back_right_extreme]+T(2,1)*R[detect_pre_back_right_extreme]+T(2,2)*R[grasp_pre_back_right_extreme]+T(2,3)*R[put_pre_back_right_extreme]);
					Vtorso[0][nod]=R[grasp_pre_nod] + gamma*(T(2,0)*R[nav_pre_nod]+T(2,1)*R[detect_pre_nod]+T(2,2)*R[grasp_pre_nod]+T(2,3)*R[put_pre_nod]);
					Vtorso[0][lookontray]=R[grasp_pre_lookontray] + gamma*(T(2,0)*R[nav_pre_lookontray]+T(2,1)*R[detect_pre_lookontray]+T(2,2)*R[grasp_pre_lookontray]+T(2,3)*R[put_pre_lookontray]);
					Vtorso[0][bow]=R[grasp_pre_bow] + gamma*(T(2,0)*R[nav_pre_bow]+T(2,1)*R[detect_pre_bow]+T(2,2)*R[grasp_pre_bow]+T(2,3)*R[put_pre_bow]);
					Vtorso[0][shake]=R[grasp_pre_shake] + gamma*(T(2,0)*R[nav_pre_shake]+T(2,1)*R[detect_pre_shake]+T(2,2)*R[grasp_pre_shake]+T(2,3)*R[put_pre_shake]);
				}
				if (action_stage=="post-config")
				{
					/*Vtorso[0][home]=R[grasp_post_home] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][left]=R[grasp_post_left] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][right]=R[grasp_post_right] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front]=R[grasp_post_front] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_left]=R[grasp_post_front_left] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_right]=R[grasp_post_front_right] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back]=R[grasp_post_back] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_extreme]=R[grasp_post_back_extreme] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left]=R[grasp_post_back_left] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left_extreme]=R[grasp_post_back_left_extreme] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right]=R[grasp_post_back_right] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right_extreme]=R[grasp_post_back_right_extreme] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][nod]=R[grasp_post_nod] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][lookontray]=R[grasp_post_lookontray] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][bow]=R[grasp_post_bow] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][shake]=R[grasp_post_shake] + gamma*(T(2,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(2,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(2,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(2,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
	*/
					Vtorso[0][home]=R[grasp_post_home] + gamma*(T(2,0)*R[nav_post_home]+T(2,1)*R[detect_post_home]+T(2,2)*R[grasp_post_home]+T(2,3)*R[put_post_home]);
					Vtorso[0][left]=R[grasp_post_left] + gamma*(T(2,0)*R[nav_post_left]+T(2,1)*R[detect_post_left]+T(2,2)*R[grasp_post_left]+T(2,3)*R[put_post_left]);
					Vtorso[0][right]=R[grasp_post_right] + gamma*(T(2,0)*R[nav_post_right]+T(2,1)*R[detect_post_right]+T(2,2)*R[grasp_post_right]+T(2,3)*R[put_post_right]);
					Vtorso[0][front]=R[grasp_post_front] + gamma*(T(2,0)*R[nav_post_front]+T(2,1)*R[detect_post_front]+T(2,2)*R[grasp_post_front]+T(2,3)*R[put_post_front]);
					Vtorso[0][front_left]=R[grasp_post_front_left] + gamma*(T(2,0)*R[nav_post_front_left]+T(2,1)*R[detect_post_front_left]+T(2,2)*R[grasp_post_front_left]+T(2,3)*R[put_post_front_left]);
					Vtorso[0][front_right]=R[grasp_post_front_right] + gamma*(T(2,0)*R[nav_post_front_right]+T(2,1)*R[detect_post_front_right]+T(2,2)*R[grasp_post_front_right]+T(2,3)*R[put_post_front_right]);
					Vtorso[0][back]=R[grasp_post_back] + gamma*(T(2,0)*R[nav_post_back]+T(2,1)*R[detect_post_back]+T(2,2)*R[grasp_post_back]+T(2,3)*R[put_post_back]);
					Vtorso[0][back_extreme]=R[grasp_post_back_extreme] + gamma*(T(2,0)*R[nav_post_back_extreme]+T(2,1)*R[detect_post_back_extreme]+T(2,2)*R[grasp_post_back_extreme]+T(2,3)*R[put_post_back_extreme]);
					Vtorso[0][back_left]=R[grasp_post_back_left] + gamma*(T(2,0)*R[nav_post_back_left]+T(2,1)*R[detect_post_back_left]+T(2,2)*R[grasp_post_back_left]+T(2,3)*R[put_post_back_left]);
					Vtorso[0][back_left_extreme]=R[grasp_post_back_left_extreme] + gamma*(T(2,0)*R[nav_post_back_left_extreme]+T(2,1)*R[detect_post_back_left_extreme]+T(2,2)*R[grasp_post_back_left_extreme]+T(2,3)*R[put_post_back_left_extreme]);
					Vtorso[0][back_right]=R[grasp_post_back_right] + gamma*(T(2,0)*R[nav_post_back_right]+T(2,1)*R[detect_post_back_right]+T(2,2)*R[grasp_post_back_right]+T(2,3)*R[put_post_back_right]);
					Vtorso[0][back_right_extreme]=R[grasp_post_back_right_extreme] + gamma*(T(2,0)*R[nav_post_back_right_extreme]+T(2,1)*R[detect_post_back_right_extreme]+T(2,2)*R[grasp_post_back_right_extreme]+T(2,3)*R[put_post_back_right_extreme]);
					Vtorso[0][nod]=R[grasp_post_nod] + gamma*(T(2,0)*R[nav_post_nod]+T(2,1)*R[detect_post_nod]+T(2,2)*R[grasp_post_nod]+T(2,3)*R[put_post_nod]);
					Vtorso[0][lookontray]=R[grasp_post_lookontray] + gamma*(T(2,0)*R[nav_post_lookontray]+T(2,1)*R[detect_post_lookontray]+T(2,2)*R[grasp_post_lookontray]+T(2,3)*R[put_post_lookontray]);
					Vtorso[0][bow]=R[grasp_post_bow] + gamma*(T(2,0)*R[nav_post_bow]+T(2,1)*R[detect_post_bow]+T(2,2)*R[grasp_post_bow]+T(2,3)*R[put_post_bow]);
					Vtorso[0][shake]=R[grasp_post_shake] + gamma*(T(2,0)*R[nav_post_shake]+T(2,1)*R[detect_post_shake]+T(2,2)*R[grasp_post_shake]+T(2,3)*R[put_post_shake]);
				}
			}
			if (action_name=="put_on_tray")
			{
				if (action_stage=="pre-config")
				{
					/*Vtorso[0][home]=R[put_pre_home] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][left]=R[put_pre_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][right]=R[put_pre_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front]=R[put_pre_front] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_left]=R[put_pre_front_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][front_right]=R[put_pre_front_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back]=R[put_pre_back] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_extreme]=R[put_pre_back_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left]=R[put_pre_back_left] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_left_extreme]=R[put_pre_back_left_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right]=R[put_pre_back_right] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][back_right_extreme]=R[put_pre_back_right_extreme] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][nod]=R[put_pre_nod] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][lookontray]=R[put_pre_lookontray] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][bow]=R[put_pre_bow] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
					Vtorso[0][shake]=R[put_pre_shake] + gamma*(T(0,0)*(R[nav_pre_home]+R[nav_pre_left]+R[nav_pre_right]+R[nav_pre_front]+R[nav_pre_front_left]+R[nav_pre_front_right]+R[nav_pre_back]+R[nav_pre_back_extreme]+R[nav_pre_back_left]+R[nav_pre_back_left_extreme]+R[nav_pre_back_right]+R[nav_pre_back_right_extreme]+R[nav_pre_nod]+R[nav_pre_lookontray]+R[nav_pre_bow]+R[nav_pre_shake])+T(0,1)*(R[detect_pre_home]+R[detect_pre_left]+R[detect_pre_right]+R[detect_pre_front]+R[detect_pre_front_left]+R[detect_pre_front_right]+R[detect_pre_back]+R[detect_pre_back_extreme]+R[detect_pre_back_left]+R[detect_pre_back_left_extreme]+R[detect_pre_back_right]+R[detect_pre_back_right_extreme]+R[detect_pre_nod]+R[detect_pre_lookontray]+R[detect_pre_bow]+R[detect_pre_shake])+T(0,2)*(R[grasp_pre_home]+R[grasp_pre_left]+R[grasp_pre_right]+R[grasp_pre_front]+R[grasp_pre_front_left]+R[grasp_pre_front_right]+R[grasp_pre_back]+R[grasp_pre_back_extreme]+R[grasp_pre_back_left]+R[grasp_pre_back_left_extreme]+R[grasp_pre_back_right]+R[grasp_pre_back_right_extreme]+R[grasp_pre_nod]+R[grasp_pre_lookontray]+R[grasp_pre_bow]+R[grasp_pre_shake])+T(0,3)*(R[put_pre_home]+R[put_pre_left]+R[put_pre_right]+R[put_pre_front]+R[put_pre_front_left]+R[put_pre_front_right]+R[put_pre_back]+R[put_pre_back_extreme]+R[put_pre_back_left]+R[put_pre_back_left_extreme]+R[put_pre_back_right]+R[put_pre_back_right_extreme]+R[put_pre_nod]+R[put_pre_lookontray]+R[put_pre_bow]+R[put_pre_shake]));
*/
					Vtorso[0][home]=R[put_pre_home] + gamma*(T(3,0)*R[nav_pre_home]+T(3,1)*R[detect_pre_home]+T(3,2)*R[grasp_pre_home]+T(3,3)*R[put_pre_home]);
					Vtorso[0][left]=R[put_pre_left] + gamma*(T(3,0)*R[nav_pre_left]+T(3,1)*R[detect_pre_left]+T(3,2)*R[grasp_pre_left]+T(3,3)*R[put_pre_left]);
					Vtorso[0][right]=R[put_pre_right] + gamma*(T(3,0)*R[nav_pre_right]+T(3,1)*R[detect_pre_right]+T(3,2)*R[grasp_pre_right]+T(3,3)*R[put_pre_right]);
					Vtorso[0][front]=R[put_pre_front] + gamma*(T(3,0)*R[nav_pre_front]+T(3,1)*R[detect_pre_front]+T(3,2)*R[grasp_pre_front]+T(3,3)*R[put_pre_front]);
					Vtorso[0][front_left]=R[put_pre_front_left] + gamma*(T(3,0)*R[nav_pre_front_left]+T(3,1)*R[detect_pre_front_left]+T(3,2)*R[grasp_pre_front_left]+T(3,3)*R[put_pre_front_left]);
					Vtorso[0][front_right]=R[put_pre_front_right] + gamma*(T(3,0)*R[nav_pre_front_right]+T(3,1)*R[detect_pre_front_right]+T(3,2)*R[grasp_pre_front_right]+T(3,3)*R[put_pre_front_right]);
					Vtorso[0][back]=R[put_pre_back] + gamma*(T(3,0)*R[nav_pre_back]+T(3,1)*R[detect_pre_back]+T(3,2)*R[grasp_pre_back]+T(3,3)*R[put_pre_back]);
					Vtorso[0][back_extreme]=R[put_pre_back_extreme] + gamma*(T(3,0)*R[nav_pre_back_extreme]+T(3,1)*R[detect_pre_back_extreme]+T(3,2)*R[grasp_pre_back_extreme]+T(3,3)*R[put_pre_back_extreme]);
					Vtorso[0][back_left]=R[put_pre_back_left] + gamma*(T(3,0)*R[nav_pre_back_left]+T(3,1)*R[detect_pre_back_left]+T(3,2)*R[grasp_pre_back_left]+T(3,3)*R[put_pre_back_left]);
					Vtorso[0][back_left_extreme]=R[put_pre_back_left_extreme] + gamma*(T(3,0)*R[nav_pre_back_left_extreme]+T(3,1)*R[detect_pre_back_left_extreme]+T(3,2)*R[grasp_pre_back_left_extreme]+T(3,3)*R[put_pre_back_left_extreme]);
					Vtorso[0][back_right]=R[put_pre_back_right] + gamma*(T(3,0)*R[nav_pre_back_right]+T(3,1)*R[detect_pre_back_right]+T(3,2)*R[grasp_pre_back_right]+T(3,3)*R[put_pre_back_right]);
					Vtorso[0][back_right_extreme]=R[put_pre_back_right_extreme] + gamma*(T(3,0)*R[nav_pre_back_right_extreme]+T(3,1)*R[detect_pre_back_right_extreme]+T(3,2)*R[grasp_pre_back_right_extreme]+T(3,3)*R[put_pre_back_right_extreme]);
					Vtorso[0][nod]=R[put_pre_nod] + gamma*(T(3,0)*R[nav_pre_nod]+T(3,1)*R[detect_pre_nod]+T(3,2)*R[grasp_pre_nod]+T(3,3)*R[put_pre_nod]);
					Vtorso[0][lookontray]=R[put_pre_lookontray] + gamma*(T(3,0)*R[nav_pre_lookontray]+T(3,1)*R[detect_pre_lookontray]+T(3,2)*R[grasp_pre_lookontray]+T(3,3)*R[put_pre_lookontray]);
					Vtorso[0][bow]=R[put_pre_bow] + gamma*(T(3,0)*R[nav_pre_bow]+T(3,1)*R[detect_pre_bow]+T(3,2)*R[grasp_pre_bow]+T(3,3)*R[put_pre_bow]);
					Vtorso[0][shake]=R[put_pre_shake] + gamma*(T(3,0)*R[nav_pre_shake]+T(3,1)*R[detect_pre_shake]+T(3,2)*R[grasp_pre_shake]+T(3,3)*R[put_pre_shake]);
				}
				if (action_stage=="post-config")
				{
					/*Vtorso[0][home]=R[put_post_home] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][left]=R[put_post_left] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][right]=R[put_post_right] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front]=R[put_post_front] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_left]=R[put_post_front_left] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][front_right]=R[put_post_front_right] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back]=R[put_post_back] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_extreme]=R[put_post_back_extreme] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left]=R[put_post_back_left] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_left_extreme]=R[put_post_back_left_extreme] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right]=R[put_post_back_right] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][back_right_extreme]=R[put_post_back_right_extreme] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][nod]=R[put_post_nod] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][lookontray]=R[put_post_lookontray] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][bow]=R[put_post_bow] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
					Vtorso[0][shake]=R[put_post_shake] + gamma*(T(3,0)*(R[nav_post_home]+R[nav_post_left]+R[nav_post_right]+R[nav_post_front]+R[nav_post_front_left]+R[nav_post_front_right]+R[nav_post_back]+R[nav_post_back_extreme]+R[nav_post_back_left]+R[nav_post_back_left_extreme]+R[nav_post_back_right]+R[nav_post_back_right_extreme]+R[nav_post_nod]+R[nav_post_lookontray]+R[nav_post_bow]+R[nav_post_shake])+T(3,1)*(R[detect_post_home]+R[detect_post_left]+R[detect_post_right]+R[detect_post_front]+R[detect_post_front_left]+R[detect_post_front_right]+R[detect_post_back]+R[detect_post_back_extreme]+R[detect_post_back_left]+R[detect_post_back_left_extreme]+R[detect_post_back_right]+R[detect_post_back_right_extreme]+R[detect_post_nod]+R[detect_post_lookontray]+R[detect_post_bow]+R[detect_post_shake])+T(3,2)*(R[grasp_post_home]+R[grasp_post_left]+R[grasp_post_right]+R[grasp_post_front]+R[grasp_post_front_left]+R[grasp_post_front_right]+R[grasp_post_back]+R[grasp_post_back_extreme]+R[grasp_post_back_left]+R[grasp_post_back_left_extreme]+R[grasp_post_back_right]+R[grasp_post_back_right_extreme]+R[grasp_post_nod]+R[grasp_post_lookontray]+R[grasp_post_bow]+R[grasp_post_shake])+T(3,3)*(R[put_post_home]+R[put_post_left]+R[put_post_right]+R[put_post_front]+R[put_post_front_left]+R[put_post_front_right]+R[put_post_back]+R[put_post_back_extreme]+R[put_post_back_left]+R[put_post_back_left_extreme]+R[put_post_back_right]+R[put_post_back_right_extreme]+R[put_post_nod]+R[put_post_lookontray]+R[put_post_bow]+R[put_post_shake]));
*/
					Vtorso[0][home]=R[put_post_home] + gamma*(T(3,0)*R[nav_post_home]+T(3,1)*R[detect_post_home]+T(3,2)*R[grasp_post_home]+T(3,3)*R[put_post_home]);
					Vtorso[0][left]=R[put_post_left] + gamma*(T(3,0)*R[nav_post_left]+T(3,1)*R[detect_post_left]+T(3,2)*R[grasp_post_left]+T(3,3)*R[put_post_left]);
					Vtorso[0][right]=R[put_post_right] + gamma*(T(3,0)*R[nav_post_right]+T(3,1)*R[detect_post_right]+T(3,2)*R[grasp_post_right]+T(3,3)*R[put_post_right]);
					Vtorso[0][front]=R[put_post_front] + gamma*(T(3,0)*R[nav_post_front]+T(3,1)*R[detect_post_front]+T(3,2)*R[grasp_post_front]+T(3,3)*R[put_post_front]);
					Vtorso[0][front_left]=R[put_post_front_left] + gamma*(T(3,0)*R[nav_post_front_left]+T(3,1)*R[detect_post_front_left]+T(3,2)*R[grasp_post_front_left]+T(3,3)*R[put_post_front_left]);
					Vtorso[0][front_right]=R[put_post_front_right] + gamma*(T(3,0)*R[nav_post_front_right]+T(3,1)*R[detect_post_front_right]+T(3,2)*R[grasp_post_front_right]+T(3,3)*R[put_post_front_right]);
					Vtorso[0][back]=R[put_post_back] + gamma*(T(3,0)*R[nav_post_back]+T(3,1)*R[detect_post_back]+T(3,2)*R[grasp_post_back]+T(3,3)*R[put_post_back]);
					Vtorso[0][back_extreme]=R[put_post_back_extreme] + gamma*(T(3,0)*R[nav_post_back_extreme]+T(3,1)*R[detect_post_back_extreme]+T(3,2)*R[grasp_post_back_extreme]+T(3,3)*R[put_post_back_extreme]);
					Vtorso[0][back_left]=R[put_post_back_left] + gamma*(T(3,0)*R[nav_post_back_left]+T(3,1)*R[detect_post_back_left]+T(3,2)*R[grasp_post_back_left]+T(3,3)*R[put_post_back_left]);
					Vtorso[0][back_left_extreme]=R[put_post_back_left_extreme] + gamma*(T(3,0)*R[nav_post_back_left_extreme]+T(3,1)*R[detect_post_back_left_extreme]+T(3,2)*R[grasp_post_back_left_extreme]+T(3,3)*R[put_post_back_left_extreme]);
					Vtorso[0][back_right]=R[put_post_back_right] + gamma*(T(3,0)*R[nav_post_back_right]+T(3,1)*R[detect_post_back_right]+T(3,2)*R[grasp_post_back_right]+T(3,3)*R[put_post_back_right]);
					Vtorso[0][back_right_extreme]=R[put_post_back_right_extreme] + gamma*(T(3,0)*R[nav_post_back_right_extreme]+T(3,1)*R[detect_post_back_right_extreme]+T(3,2)*R[grasp_post_back_right_extreme]+T(3,3)*R[put_post_back_right_extreme]);
					Vtorso[0][nod]=R[put_post_nod] + gamma*(T(3,0)*R[nav_post_nod]+T(3,1)*R[detect_post_nod]+T(3,2)*R[grasp_post_nod]+T(3,3)*R[put_post_nod]);
					Vtorso[0][lookontray]=R[put_post_lookontray] + gamma*(T(3,0)*R[nav_post_lookontray]+T(3,1)*R[detect_post_lookontray]+T(3,2)*R[grasp_post_lookontray]+T(3,3)*R[put_post_lookontray]);
					Vtorso[0][bow]=R[put_post_bow] + gamma*(T(3,0)*R[nav_post_bow]+T(3,1)*R[detect_post_bow]+T(3,2)*R[grasp_post_bow]+T(3,3)*R[put_post_bow]);
					Vtorso[0][shake]=R[put_post_shake] + gamma*(T(3,0)*R[nav_post_shake]+T(3,1)*R[detect_post_shake]+T(3,2)*R[grasp_post_shake]+T(3,3)*R[put_post_shake]);
				}
			}
		//}
//------------- Chose the best way with the function max -------------

/*	result_torso=0;
	for (int j=15;j>=0;j--)
	{
		if(result_torso<Vtorso[0][j])		//function max
		{
			result_torso=Vtorso[0][j];
			//result_torsostate=j;			// know the state where the value function is the best
		}								// if j=0=home, j=1=cylclosed, j=2=cylopen ,etc...
	}*/

	//------------- Chose the best way with the Bees Algorithm-------------
		int temp2;
		double temp1 ;
		int nghx[dim]; // Neighborhood
		int fit[pop],sortedFit[pop],bPos[dim][pop],bPosSort[dim][pop];
		int bNghFit[pop],bNghPos[dim][pop];
		int globalFit[pop], globalPos[dim][pop];
		int candidx[dim][pop];

		srand( (unsigned)time( NULL ) );

		for(int runs=0; runs<1; runs++)
		{	//number of runs
			//initialise with random start positions at the start of every run
			for(int i=0;i<torso_n;i++)
			{
				for(int d=0;d<dim;d++)
				{
				bPos[d][i]= torso_randfunc(torso_xs, torso_xe);
				//std::cout << "bpos " << bPos[d][i] << std::endl;
				fit[i]=torso_func(bPos[d][i], Vtorso);
				//std::cout << "fit: " << fit[i] << std::endl;
				}
			}

			// at this point bPos contains a number of randomly initialised particles
			// fit, contains the value of the fit350000ness function
			// thus forming a (fit,bPos) tuple

			//sort by fitness, preserving the (f,pos) tuple
			torso_funcSort(fit, sortedFit, bPos, bPosSort, torso_n); // bpossort contains all the sort position of the scout bees
			fit[bPosSort[0][0]]=torso_func(bPosSort[0][0], Vtorso);
			//std::cout << "bpossort: " << bPosSort[0][0] << std::endl;
			//std::cout << "fit: " << fit[bPosSort[0][0]] << std::endl;

			//imax number of iteration
			for(int iter=0; iter<torso_imax ;iter++)
			{
				for(int d=0;d<dim;d++)
					nghx[d] = 1;

				int aa[50]; //50 max number of selected sites out of n

					 for(int i=0;i<torso_m;i++)
					 {
					   if(i<torso_e)
						   aa[i]=torso_n2;  // Number of bees around each elite point
					   else
						   aa[i]=torso_n1;  // Number of bees around other selected point
					   }

	// ----------------------------------------Neighbourhood search  ------------------------------------

				temp1=-INT_MAX;

				for(int k=0;k<torso_e;k++)//k site
				{
					for(int j=0;j<aa[k];j++) //j recruited bee
					{
						for(int d=0;d<dim;d++)//d dimension
						{
							candidx[d][k]=bPosSort[d][k]; //define the candidate position
							//std::cout << "candid: " << candidx[d][k] << std::endl;
							if ((candidx[d][k]-nghx[d])<torso_xs) // boundry check (left)
								{
								 bNghPos[d][j]=torso_randfunc(torso_xs,candidx[d][k]+nghx[d]);
							//	std::cout << "bNghPos1: " << bNghPos[d][j] << std::endl;
								bNghFit[j]=torso_func(bNghPos[d][j], Vtorso);
							//	std::cout << "bNghFit: " << bNghFit[j] << std::endl;
								}
							if ((candidx[d][k]+nghx[d])>torso_xe)// boundry check (right)
								{
								bNghPos[d][j]=torso_randfunc(candidx[d][k]-nghx[d],torso_xe);
							//	std::cout << "bNghPos2: " << bNghPos[d][j] << std::endl;
								bNghFit[j]=torso_func(bNghPos[d][j], Vtorso);
							//	std::cout << "bNghFit: " << bNghFit[j] << std::endl;
								}
							if ((candidx[d][k]-nghx[d])>=torso_xs and (candidx[d][k]+nghx[d])<=torso_xe )
								{
								bNghPos[d][j]=torso_randfunc(candidx[d][k]-nghx[d] , candidx[d][k]+nghx[d]);
							//	std::cout << "bNghPos3: " << bNghPos[d][j] << std::endl;
								bNghFit[j]=torso_func(bNghPos[d][j], Vtorso);
							//	std::cout << "bNghFit: " << bNghFit[j] << std::endl;
								}
							if(bNghFit[j]>= temp1 )
							{
								temp1=bNghFit[j];
								temp2=bNghPos[d][j];
							}  // end of choosing the rep bee
						}
					}// end of recruitment
				}	// end of  elite Neighbourhood Search

				 //Sort
			if (sortedFit[0]<= temp1)
			{
				sortedFit[0]=temp1;
				bPosSort[0][0]=temp2;
			}
			//std::cout << "temp1: " <<temp1 << std::endl;
			//std::cout << "temp2: " <<temp2 << std::endl;

	// ----------------------------------------Global search  ------------------------------------

				int ranSearchBees=torso_n-torso_m; // Number of bees search randomly
				for(int k=0;k<ranSearchBees;k++)	//start of random search for rest of bees
					 {
						for(int d=0;d<dim;d++)
						{
							globalPos[d][k]=torso_randfunc(torso_xs, torso_xe);
						//	std::cout << "bposglobal " << globalPos[d][k] << std::endl;
							globalFit[k]=torso_func(globalPos[d][k], Vtorso);// evaluate the fitness of the new list
						//	std::cout << "fitglobal: " << globalFit[k] << std::endl;
						 	if(globalFit[k]>= temp1 )
							{
								temp1=globalFit[k];
								temp2=globalPos[d][k];
							}
						}
					 }
					 //Sort
				if (sortedFit[0]<= temp1)
				{
					sortedFit[0]=temp1;
					bPosSort[0][0]=temp2;
				}
			}	//end iter = imax

		} // end runs

			result_torsostate=bPosSort[0][0]; //bPosSort[0][0] correspond to the elite site
			result_torso = sortedFit[0]; // sortedFit[0] correspond to the value of the elite site
			std::cout << "best torso pos: " << result_torsostate << std::endl;
			std::cout << "best torso Vfit: " << result_torso<< std::endl;

		return;
	}
